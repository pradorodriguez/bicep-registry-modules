{
    "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "environmentName": {
            "value": "${AZURE_ENV_NAME}"
        },
        "location": {
            "value": "${AZURE_LOCATION}"
        },
        "deploymentTags": {
            "value": {}
        },
        "principalId": {
            "value": "${AZURE_PRINCIPAL_ID}"
        },
        "networkIsolation": {
            "value": "false"
        },
        "useUAI": {
            "value": "false"
        },
        "aiSearchResourceId": {
            "value": null
        },
        "aiFoundryStorageAccountResourceId": {
            "value": null
        },
        "aiFoundryCosmosDBAccountResourceId": {
            "value": null
        },
        "deployAppConfig": {
            "value": "true"
        },
        "deployAppInsights": {
            "value": "true"
        },
        "deployCosmosDb": {
            "value": "true"
        },
        "deployContainerApps": {
            "value": "true"
        },
        "deployContainerRegistry": {
            "value": "true"
        },
        "deployContainerEnv": {
            "value": "true"
        },
        "deployMcp": {
            "value": "true"
        },
        "deployGroundingWithBing": {
            "value": "true"
        },
        "deployKeyVault": {
            "value": "true"
        },
        "deployLogAnalytics": {
            "value": "true"
        },
        "deploySearchService": {
            "value": "true"
        },
        "deployStorageAccount": {
            "value": "true"
        },
        "greenFieldDeployment": {
            "value": "true"
        },
        "deployVM": {
            "value": "true"
        },
        "aiFoundryAccountName": {
            "value": null
        },
        "aiFoundryProjectName": {
            "value": null
        },
        "aiFoundryProjectDisplayName": {
            "value": null
        },
        "aiFoundryProjectDescription": {
            "value": null
        },
        "aiFoundryStorageAccountName": {
            "value": null
        },
        "aiFoundrySearchServiceName": {
            "value": null
        },
        "aiFoundryCosmosDbName": {
            "value": null
        },
        "bingSearchName": {
            "value": null
        },
        "appConfigName": {
            "value": null
        },
        "appInsightsName": {
            "value": null
        },
        "containerEnvName": {
            "value": null
        },
        "containerRegistryName": {
            "value": null
        },
        "conversationContainerName": {
            "value": null
        },
        "dataIngestContainerAppName": {
            "value": null
        },
        "datasourcesContainerName": {
            "value": null
        },
        "dbAccountName": {
            "value": null
        },
        "dbDatabaseName": {
            "value": null
        },
        "frontEndContainerAppName": {
            "value": null
        },
        "keyVaultName": {
            "value": null
        },
        "logAnalyticsWorkspaceName": {
            "value": null
        },
        "orchestratorContainerAppName": {
            "value": null
        },
        "searchServiceName": {
            "value": null
        },
        "solutionStorageAccountName": {
            "value": null
        },
        "vmAdminPassword": {
            "value": "$(secretOrRandomPassword)"
        },
        "useCMK": {
            "value": "false"
        },
        "modelDeploymentList": {
            "value": [
                {
                    "name": "chat-completions",
                    "model": "gpt-4o",
                    "modelFormat": "OpenAI",
                    "type": "GlobalStandard",
                    "version": "2024-11-20",
                    "capacity": 40,
                    "key": "CHAT_COMPLETIONS_DEPLOYMENT_NAME"
                },
                {
                    "name": "text-embedding",
                    "model": "text-embedding-3-large",
                    "modelFormat": "OpenAI",
                    "type": "Standard",
                    "version": "1",
                    "capacity": 40,
                    "key": "EMBEDDING_DEPLOYMENT_NAME"
                }
            ]
        },
        "workloadProfiles": {
            "value": [
                {
                    "name": "Consumption",
                    "workloadProfileType": "Consumption"
                },
                {
                    "workloadProfileType": "D4",
                    "name": "main",
                    "minimumCount": 0,
                    "maximumCount": 1
                }
            ]
        },
        "storageAccountContainersList": {
            "value": [
                {
                    "name": "documents",
                    "key": "DOCUMENTS_STORAGE_CONTAINER"
                }
            ]
        },
        "databaseContainersList": {
            "value": [
                {
                    "name": "conversations",
                    "key": "CONVERSATIONS_DATABASE_CONTAINER"
                }
            ]
        },
        "containerAppsList": {
            "value": [
                {
                    "name": null,
                    "service_name": "orchestrator",
                    "profile_name": "main",
                    "min_replicas": 1,
                    "max_replicas": 1,
                    "key": "ORCHESTRATOR_APP",
                    "roles": [
                        "AppConfigurationDataReader",
                        "CognitiveServicesUser",
                        "CognitiveServicesOpenAIUser",
                        "AcrPull",
                        "CosmosDBBuiltInDataContributor",
                        "SearchIndexDataReader",
                        "StorageBlobDataReader",
                        "KeyVaultSecretsUser"
                    ]
                }
            ]
        }
    }
}